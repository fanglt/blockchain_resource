function vote(e){var t=e.data("red-id");if(!e.hasClass("red")){e.find(".score").addClass("fa-spin orange");var n=jQuery(".score-"+t),i=parseInt(n.html()),r={action:"pd_action",id:t,vote:"u",score:i+1};a=jQuery.ajax({url:ajax_object.ajax_url,type:"POST",data:r}),a.done(function(a){n.empty(),n.html(parseInt(i)+1),e.find(".score").removeClass("fa-spin orange"),e.removeClass("fa-spin orange").addClass("red")}),a.fail(function(a){})}}function voteComment(e){var t=e.data("red-id");if(!e.hasClass("red")){e.find(".score").addClass("fa-spin orange");var n=jQuery(".score-"+t),i=parseInt(n.html()),r={action:"pd_comment_action",id:t,vote:"u",score:i+1};a=jQuery.ajax({url:ajax_object.ajax_url,type:"POST",data:r}),a.done(function(a){n.empty(),n.html(parseInt(i)+1),e.find(".score").removeClass("fa-spin orange"),e.addClass("red"),e.removeClass("fa-spin orange").addClass("red")}),a.fail(function(a){})}}function flagPost(a,e){a.preventDefault(),e.hide();var t={action:"flag_content",type:e.data("type"),post_id:e.data("id")};$.post(ajax_object.ajax_url,t,function(a){}).done(function(a){e.parent().append("<span>"+e.data("type")+" has been flagged for moderation</span>"),e.remove()}).fail(function(a){e.show()})}function frontEndSubmit(a,e){a.preventDefault();var t=e.parent().serialize()+"&action=bg_submit_action",n=e.parent();if(n.validate(),n.valid()){e.attr("value","Sending...");var i=jQuery.ajax({url:ajax_object.ajax_url,type:"POST",data:t});i.done(function(a){jQuery(".maincontent").toggleClass("content-push-sidebar"),a=JSON.parse(a),window.location.href=a.perma}),i.fail(function(a,e){}),setTimeout(function(){jQuery("#submit-article-btn").attr("value","Submit my original article  ›")},5e3)}}function editThis(a,e){a.preventDefault();var t=e.parent().serialize()+"&action=bg_edit_action",n=e.parent();if(n.validate(),n.valid()){e.attr("value","Sending...");var i=jQuery.ajax({url:ajax_object.ajax_url,type:"POST",data:t});console.log(t),i.done(function(a){jQuery(".maincontent").toggleClass("content-push-sidebar"),a=JSON.parse(a),window.location.href=a.perma}),i.fail(function(a,e){alert("Request failed: "+e)}),setTimeout(function(){jQuery("#submit-article-btn").attr("value","Submit my original article  ›")},5e3)}}jQuery(window).load(function(){jQuery(".arrow-vote").unbind("click").bind("click",function(a){vote(jQuery(this))}),jQuery(".arrow-vote-comment").unbind("click").bind("click",function(a){voteComment(jQuery(this))}),jQuery(".arrow, .arrowc").on("click",function(){jQuery(this).hasClass("red")||jQuery(this).addClass("red")}),jQuery(".flag_this").on("click",function(a){flagPost(a,jQuery(this))}),jQuery("#submit-article-btn").click(function(a){frontEndSubmit(a,jQuery(this))}),jQuery("#submit-question-btn").click(function(a){frontEndSubmit(a,jQuery(this))}),jQuery("#edit-question-btn").click(function(a){editThis(a,jQuery(this))})}),jQuery(document).ready(function(a){a("#commentform").submit(function(){var e=a("#comment");if(""===e.val())return e.addClass("error"),a(this).find(".validation").html("This field is required."),a(this).find(".validation").show(),!1;e.removeClass("error"),a(this).find(".validation").hide()})});